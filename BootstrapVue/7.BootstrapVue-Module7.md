# Module 7 — Data Display Components [⬆](./0.BootstrapVue-doc.md)

## `b-table` Fundamentals (Mental Model First)

`b-table` is:

- A **data renderer**
- Not just HTML `<table>`
- Designed for **structured objects**
- Slot-driven for customization

Think of it as:

```scss
Data (Array of Objects)
      ↓
Fields (Column Definitions)
      ↓
b-table (Renderer)
```

### The Two Required Inputs

1️⃣ **`items` — The Data**

```js
items: [
  { id: 1, name: "Alice", role: "Admin" },
  { id: 2, name: "Bob", role: "User" },
];
```

Each object = one row.

2️⃣ **`fields` — The Schema**

```js
fields: [
  { key: "name", label: "Name" },
  { key: "role", label: "Role" },
];
```

Each field = one column.

If you omit `fields`, BootstrapVue infers them — **do not rely on this in production**.

### Minimal Correct Table

```vue
<b-table :items="items" :fields="fields" />
```

This is the **baseline**. Everything else builds on this.

## Column Customization & Slots

Slots Matter in Table, because without slots:

- Tables look generic
- Formatting logic leaks into data
- UX suffers

Slots allow **presentation logic**, not data mutation.

### Cell Slot (Per Column)

```vue
<b-table :items="items" :fields="fields">
  <template #cell(name)="data">
    <strong>{{ data.value }}</strong>
  </template>
</b-table>
```

`data` contains:

- `value` → cell value
- `item` → full row object
- `index` → row index

### Action Columns (Real World)

```js
fields: [
  { key: "name", label: "Name" },
  { key: "role", label: "Role" },
  { key: "actions", label: "Actions" },
];
```

```vue
<template #cell(actions)="row">
  <b-button size="sm" @click="edit(row.item)"> Edit </b-button>
</template>
```

This pattern is used everywhere.

## Sorting, Filtering & Pagination

### Sorting

```vue
<b-table :items="items" :fields="fields" sortable />
```

Or per-field:

```js
{ key: 'name', sortable: true }
```

Sorting is client-side by default.

### Filtering

```vue
<b-form-input v-model="filter" placeholder="Search..." />

<b-table :items="items" :fields="fields" :filter="filter" />
```

Filtering:

- Is case-insensitive
- Matches across all fields by default

### Pagination (Correct Pattern)

```vue
<b-pagination
  v-model="currentPage"
  :total-rows="items.length"
  :per-page="perPage"
/>

<b-table :items="items" :per-page="perPage" :current-page="currentPage" />
```

Always keep pagination **external** to the table.

## Async Data & Loading States

### Loading State

```vue
<b-table :items="items" :busy="loading">
  <template #table-busy>
    <div class="text-center my-4">
      <b-spinner />
    </div>
  </template>
</b-table>
```

### Empty State

```vue
<template #empty>
  <div class="text-center text-muted">No records found</div>
</template>
```

Never show blank tables.

### Async Fetch Pattern

```js
async mounted() {
  this.loading = true
  try {
    this.items = await api.fetchUsers()
  } finally {
    this.loading = false
  }
}
```
