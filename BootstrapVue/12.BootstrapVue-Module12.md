# Module 12 – Modals, Overlays & User Flow Control [⬆](./0.BootstrapVue-doc.md)

## Modal Architecture

A modal is:

- a **temporary interruption**
- a **decision checkpoint**
- a **focused interaction zone**

A modal is **not**:

- a page replacement
- a form container for large workflows
- a navigation shortcut

Rule:

> If it needs scrolling → it should not be a modal

### `b-modal` Fundamentals

Basic Modal

```vue
<b-button @click="$bvModal.show('example-modal')">
  Open Modal
</b-button>

<b-modal id="example-modal" title="Example">
  Modal content
</b-modal>
```

Key points:

- Modal is **controlled externally**
- ID-based access
- Decouples trigger from modal

**Why This Matters**

This allows:

- Multiple triggers
- Programmatic control
- Centralized logic

### Modal Visibility Control

**Show / Hide Programmatically**

```js
this.$bvModal.show("confirm-modal");
this.$bvModal.hide("confirm-modal");
```

Avoid `v-if` for modals unless you fully understand lifecycle implications.

**Auto-focus & Accessibility**

BootstrapVue handles:

- Focus trapping
- Escape key
- ARIA roles

Do not disable these unless required.

### Confirmation Modals (Real-World Pattern)

**Pattern: Confirm Before Destructive Action**

```js
async confirmDelete() {
  const ok = await this.$bvModal.msgBoxConfirm(
    'This action cannot be undone.',
    {
      title: 'Confirm Delete',
      okVariant: 'danger',
      okTitle: 'Delete',
      cancelTitle: 'Cancel'
    }
  )

  if (ok) {
    this.deleteItem()
  }
}
```

This pattern avoids building repetitive modal markup.

**Why `msgBoxConfirm` Is Powerful**

- Promise-based
- No template clutter
- Standardized UX

### Modal Slots & Custom Layouts

**Footer Slot** (Professional Control)

```vue
<b-modal title="Edit User">
  <form-content />

  <template #modal-footer>
    <b-button variant="secondary" @click="$bvModal.hide('edit')">
      Cancel
    </b-button>
    <b-button variant="primary">
      Save
    </b-button>
  </template>
</b-modal>
```

Never rely on default footer for complex actions.

**Header Control**

```vue
<b-modal hide-header-close></b-modal>
```

Use sparingly; closing must always be obvious.

### Overlays & Loading States

**Blocking UI During Async Actions**

```vue
<b-overlay :show="loading">
  <b-card>
    Content
  </b-card>
</b-overlay>
```

Use overlays to:

- Prevent double submits
- Indicate in-progress state
- Preserve layout

**Overlay Inside Modals**

```vue
<b-modal>
  <b-overlay :show="saving">
    <form />
  </b-overlay>
</b-modal>
```

This is the **correct pattern** for modal form submission.

### Toasts vs Modals vs Alerts (Decision Guide)

| Pattern | Use When               |
| ------- | ---------------------- |
| Modal   | Requires decision      |
| Toast   | Informational feedback |
| Alert   | Persistent warning     |

Never use modals for notifications.

### Common Modal Anti-Patterns

- ❌ Modals for full-page forms
- ❌ Nested modals
- ❌ Auto-opening modals without user action
- ❌ Blocking modals without escape

### Reusable Modal Strategy (Advanced)

**Pattern: Modal as a Service**

- Central modal component
- Data passed via props
- Opened via `$bvModal`

This scales in large applications.

**Next** [Performance, Optimization & Best Practices](./13.BootstrapVue-Module13.md)
